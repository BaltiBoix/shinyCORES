shiny::runApp()
shiny::runApp()
shiny::runApp(display.mode = "showcase")
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
install.packages(c("maps", "mapproj"))
library(maps)
library(mapproj)
source("census-app/helpers.R")
counties <- readRDS("census-app/data/counties.rds")
percent_map(counties$white, "darkgreen", "% white")
library(maps)
library(mapproj)
source("census-app/helpers.R")
counties <- readRDS("census-app/data/counties.rds")
percent_map(counties$white, "darkgreen", "% white")
source("census-app/helpers.R")
counties <- readRDS("census-app/data/counties.rds")
library(maps)
library(mapproj)
shiny::runApp()
c("Percent White", "Percent Black", "Percent Hispanic", "Percent Asian")
which("Percent White" %in% c("Percent White", "Percent Black", "Percent Hispanic", "Percent Asian"))
which("Percent Black" %in% c("Percent White", "Percent Black", "Percent Hispanic", "Percent Asian"))
?which
which("Percent Black" %in% c("Percent White", "Percent Black", "Percent Hispanic", "Percent Asian"), arr.ind = T)
which("Percent Black" == c("Percent White", "Percent Black", "Percent Hispanic", "Percent Asian"))
which("Percent Asian" == c("Percent White", "Percent Black", "Percent Hispanic", "Percent Asian"))
shiny::runApp()
shiny::runApp()
shiny::runApp()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
?rdy
?saveRDS
require(openxlsx, quietly = TRUE)
require(dplyr, quietly = TRUE)
require(zoo, quietly = TRUE)
#require(tidyr, quietly = TRUE)
#require(lattice, quietly = TRUE)
#download.file("http://www.cores.es/sites/default/files/archivos/estadisticas/consumos-pp-ccaa-provincias.xlsx",
#              "consumos.xlsx", mode = "wb")
df<-read.xlsx("consumos.xlsx", sheet="Consumos", startRow = 6)
df<-filter(df, Año > 1997 & Año < 2020)
df<-select(df, -contains("bio"))
names(df)<-c("Anyo","Mes","CCAA","Provincia","GS97","GS95","GS98","GOA","GOB","GOC","FOBIA")
df<-mutate(df, fecha=as.yearmon(paste0(Mes,Anyo)))
df<-select(df, c(12,3:11))
df[is.na(df)] <- 0
df[,4:10]<-df[,4:10]/1000
saveRDS(df, file = 'consumos-pp-ccaa-provincias.RDS')
df<-read.xlsx("../CORES/consumos.xlsx", sheet="Consumos", startRow = 6)
df<-filter(df, Año > 1997 & Año < 2020)
df<-select(df, -contains("bio"))
names(df)<-c("Anyo","Mes","CCAA","Provincia","GS97","GS95","GS98","GOA","GOB","GOC","FOBIA")
df<-mutate(df, fecha=as.yearmon(paste0(Mes,Anyo)))
df<-select(df, c(12,3:11))
df[is.na(df)] <- 0
df[,4:10]<-df[,4:10]/1000
saveRDS(df, file = 'consumos-pp-ccaa-provincias.RDS')
?readRDS
source('~/RProjects/shinyCORES/global.R')
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
names(df)
names(df)[4:ncol(df)]
paste(names(df)[4:ncol(df)], collapse = ',')
paste(names(df)[4:ncol(df)], 4:10, collapse = ',')
paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ',')
paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', ')
list(paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '))
as.vector(paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '))
paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', ')
strsplit(paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '))
strsplit(paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '), ',')
as.vector(unlist(strsplit(paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),",")),mode="list")
eval(paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '))
paste0('list(',paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),')')
eval(paste0('list(',paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),')'))
parse(paste0('list(',paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),')')
)
?parse
parse(text=paste0('list(',paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),')')
)
parse(text=paste0('list(',paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),')'))
eval(parse(text=paste0('list(',paste(names(df)[4:ncol(df)], '=', 4:ncol(df), collapse = ', '),')')))
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
?dateInput
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
?reactive
df %>% filter(CCAA=="Andalucia") %>% select(Provincia) %>% distinct()
df %>% filter(CCAA=="Andalucia") %>% select(Provincia)
df %>% filter(CCAA=="Andalucía") %>% select(Provincia)
df %>% filter(CCAA=="Andalucía") %>% select(Provincia) %>% distinct()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
runApp(list(
ui = bootstrapPage(
selectInput('dataset', 'Choose Dataset', c('mtcars', 'iris')),
uiOutput('columns')
),
server = function(input, output){
output$columns = renderUI({
mydata = get(input$dataset)
selectInput('columns2', 'Columns', names(mydata))
})
}
))
shiny::runApp()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
?is.null
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
format(df$fecha, "%YYYY")
format(df$fecha, "%Y")
unique(format(df$fecha, "%Y"))
df$fecha[1]
as.numeric(df$fecha[1])
as.numeric(df$fecha[nrow(df)])
as.numeric(df$fecha[3])
as.numeric(df$fecha[30])
as.numeric(df$fecha[nrow(df)])
as.numeric(df$fecha[nrow(df)]):as.numeric(df$fecha[nrow(df)])
as.numeric(df$fecha[1]):as.numeric(df$fecha[nrow(df)])
as.numeric(df$fecha[1]):as.numeric(df$fecha[nrow(df)])-1
as.numeric(df$fecha[1]):(as.numeric(df$fecha[nrow(df)])-1)
fechas.rango<-c(as.numeric(df$fecha[1]), (as.numeric(df$fecha[nrow(df)])-1))
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
source('~/RProjects/shinyCORES/global.R')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
